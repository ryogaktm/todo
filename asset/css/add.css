@charset "UTF-8";

/* ===== Theme tokens ===== */
:root {
  --bg: #0b1020;
  --panel: #11162a;
  --line: #2c3a66;
  --accent: #6ea0ff;
  --text: #e8ecf5;
  --muted: #ffffff;
  --card: #19223e;
  --card-hover: #1f2b4f;
  --shadow: 0 10px 20px rgba(0, 0, 0, .25), 0 6px 6px rgba(0, 0, 0, .18);
}

* { box-sizing: border-box; }

html, body { height: 100%; }

body {
  margin: 0;
  background: #fff;         /* 背景は白（ボードを見やすく） */
  color: #111;              /* 可読性の高い文字色 */
  font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto,
               "Hiragino Kaku Gothic ProN", "Noto Sans JP", "Yu Gothic", sans-serif;
}

/* ===== Header ===== */
header {
  position: sticky; top: 0; z-index: 10;
  display: flex; align-items: center; justify-content: space-between;
  padding: 14px 18px;
  background: linear-gradient(180deg, rgba(9,12,26,.9), rgba(9,12,26,.65));
  backdrop-filter: blur(6px);
  border-bottom: 1px solid rgba(255,255,255,.06);
}

.brand { font-weight: 700; letter-spacing: .2px; }
.actions { display: flex; gap: 10px; align-items: center; }
.hint { color: var(--muted); font-size: 12px; }

/* ===== Buttons ===== */
.btn {
  appearance: none;
  color: var(--text);
  background: #f09903;
  padding: 4px 12px;
  cursor: pointer;
  font-weight: 600;
  letter-spacing: .2px;
  border: navajowhite;
  font-size: 13px;
}
.btn:hover { filter: brightness(1.08); }

.btn-icon {
  width: 36px; height: 36px;
  display: grid; place-items: center;
  font-size: 18px; border-radius: 12px;
}

/* ===== Layout ===== */
.wrap {
  max-width: none;     /* 横幅制限を解除 */
  width: 100%;
  margin: 0;           /* 外側余白なし */
  padding: 0;
}

/* ===== Board ===== */
.board {
  position: relative;
  height: calc(100vh - 180px);
  min-height: 540px;
  background: #fff;    /* ボード面 */
  border: 1px solid #ddd; /* 外枠の線 */
  border-radius: 0;    /* 角丸なし（全体をフラットに） */
  overflow: hidden;
}

/* 中央の十字ライン */
.line-h, .line-v { position: absolute; background: #ddd; }
.line-h { left: 0; right: 0; top: 50%; height: 2px; transform: translateY(-1px); }
.line-v { top: 0; bottom: 0; left: 50%; width: 2px; transform: translateX(-1px); }

/* 軸ラベル */
.label {
  position: absolute; color: #555; font-size: 24px;
  background: #fff; padding: 6px 10px; border-radius: 999px;
  border: 1px solid #ddd; font-weight: bold; /* 外枠の線 */
}
.label.left   { left: 4px;  top: calc(50% - 26px); }
.label.right  { right: 6px; top: calc(50% - 25px); }
.label.top    { top: 3px;   left: calc(50% - 33px); }
.label.bottom { bottom: 5px; left: calc(50% - 34px); }

/* ===== Cards ===== */
.card {
  position: absolute;
  min-width: 140px;
  user-select: none;
  cursor: grab;
  background: linear-gradient(180deg, var(--card), #121a36);
  border: 1px solid rgba(255,255,255,.08);
  padding: 10px 46px 10px 10px;
  border-radius: 14px;
  box-shadow: var(--shadow);
  color: #f8f9fb;
  transform: translate(-50%, -50%);
  transition: transform .15s ease, opacity .15s ease, filter .15s ease;
  font-size: 14px;
  z-index: 10;
  scale: 0.95;
}

#board {
  --card-scale: 1;
}

#board .card {
  transform: scale(var(--card-scale));
  transform-origin: top left; /* 左上を基準に縮小/拡大 */
  transition: transform 0.2s ease; /* ふわっと縮むように */
}


/* 選択中カテゴリのカードだけ強調 */
.card.is-selected {
  transform: translate(-50%, -50%) scale(1.1);
  z-index: 20; /* 非選択より前面に */
  /* transform-origin は中央でOK（デフォルトのままでも translate が中心揃えにしてくれる） */
}

.card:hover { background: linear-gradient(180deg, var(--card-hover), #162048); }

.title-top{ font-size: 13px; opacity: .8; }
.title-btm{ opacity: .7; }

.card h4 {
  margin: 0; font-size: 16px; line-height: 1.3; font-weight: bold; padding: 3px 0;
}
.card small { display: block; margin-top: 4px; color: var(--muted); }

/* フィルタ対象外（選択されていないカテゴリのカードなど） */
.card.dim {
  opacity: .3;              /* 70% 不透明に落とす */
  filter: grayscale(.1);
  pointer-events: none;
  z-index: 1;
  scale: 0.8;
  filter: grayscale(.1);
}

/* ノートボタン（カード右上） */
.card .note-btn{
  position: absolute; right: 4px; top: 2px;
  width: 38px; height: 42px; border-radius: 0; border: none;
  background: rgb(255 249 249 / 0%);
  display: grid; place-items: center;
  font-size: 30px; cursor: pointer; padding: 0;
}
.card .note-btn:hover { filter: brightness(1.15); }

/* タイトル内のサブ件数 */
.card h4 .cnt { margin-left: 6px; color: var(--muted); font-weight: 700; }
.note-btn.is-empty { opacity: .45; }

/* ボール表示の期限切れスタイル */
.card .ball-pill.overdue { color: #E53935; font-weight: 700; }

/* ===== Modal ===== */
.modal-backdrop {
  position: fixed; inset: 0; background: rgba(0,0,0,.45);
  display: none; align-items: center; justify-content: center; z-index: 50;
}
.modal {
  width: min(799px, 96vw);
  /* ここを追加/変更 */
  height: 100dvh;            /* 画面の縦いっぱい（iOS対策でdvh） */
  max-height: 100dvh;
  display: flex;             /* 子要素を縦積み */
  flex-direction: column;
  /* overflow: hidden; は角丸のクリッピング用に残してOK */
  overflow: hidden;
}

/* ヘッダーは固定（スクロールさせない領域） */
.modal header {
  flex: 0 0 auto;            /* 伸縮しない */
  position: relative;
  background: linear-gradient(180deg, #17224a, #101737);
  border-bottom: 1px solid rgba(255,255,255,.06);
  padding: 18px 6px 0;
  color: #fff;
  font-weight: bold;
}

/* ボディだけをスクロール領域にするのがキモ */
.modal .body {
  flex: 1 1 auto;            /* 余白を全部ここに */
  min-height: 0;             /* ← flex 子の overflow を効かせる重要プロパティ */
  overflow: auto;            /* ← 縦スクロール */
  padding: 6px;
  display: grid;
  gap: 0;
  background: #000;
}

/* フッター（ボタン列）は固定。スクロールしない */
.modal .row-actions {
  flex: 0 0 auto;            /* 伸縮しない */
  position: sticky;          /* どっちでもOK。stickyだとボディ内に食い込んだ時も下固定 */
  bottom: 0;
  background: var(--panel);  /* 下に来ても段差が見えないよう背景を付ける */
  border-top: 1px solid rgba(255,255,255,.06);
  z-index: 5;
  display: flex;
  gap: 10px;
  align-items: center;
  padding: 12px 16px 16px;
}

label.input-label { font-size: 12px; color: var(--muted); }

input[type="text"], textarea {
  width: 100%;
  background: #d5d5d5;
  color: #000;
  border: 1px solid rgba(255,255,255,.12);
  border-radius: 10px;
  padding: 10px 12px;
  font: inherit;
}
textarea { min-height: 120px; resize: vertical; }

.row {display: flex;gap: 10px;justify-content: flex-end;padding: 0px 0px 8px;}
.danger { border-color: rgba(255,120,120,.35); color: #ffd2d2; }

.toast {
  position: fixed; bottom: 18px; left: 50%;
  transform: translateX(-50%);
  background: #0b122c; border: 1px solid rgba(255,255,255,.1);
  padding: 10px 14px; border-radius: 999px; color: #cfe2ff;
  display: none;
}

/* 完了ボタンを強調 */
.btn-complete {
  border: 1px solid #848484; background: #000; font-weight: 700; padding: 10px 14px;
}

/* ===== 完了リスト（右サイドパネル） ===== */
.completed-panel {
  position: fixed; top: 64px; right: 0; bottom: 0;
  width: min(380px, 92vw);
  background: #fff; border-left: 1px solid #ddd;
  box-shadow: -8px 0 20px rgba(0,0,0,.08);
  transform: translateX(100%); transition: transform .25s ease;
  z-index: 40; display: flex; flex-direction: column;
}
.completed-panel.open { transform: translateX(0); }

.completed-header { padding: 12px 14px; border-bottom: 1px solid #ddd; font-weight: 700; }
.completed-list { padding: 10px 12px; overflow: auto; flex: 1; display: block; gap: 8px; }

.completed-item {
  border: 1px solid #ddd; border-radius: 10px; padding: 6px 8px;
  background: #fafafa; display: flex; align-items: center; justify-content: space-between; height: 42px;
}
.completed-item h5 { margin: 0; font-size: 14px; flex: 1; white-space: nowrap; overflow: hidden; text-overflow: ellipsis; }

.completed-empty { color: #777; font-size: 13px; padding: 16px; }

.completed-delete{
  border: none; background: transparent; cursor: pointer; font-size: 16px; color: #888; padding: 2px 6px;
}
.completed-delete:hover { color: #d00; }

.h-right { display: flex; gap: 8px; align-items: center; }

/* ===== Shortcut modal ===== */
.shortcut-backdrop {
  position: fixed; inset: 0; background: rgba(0,0,0,.45);
  display: none; align-items: center; justify-content: center; z-index: 999;
}
.shortcut-modal {
  width: min(420px, 92vw);
  background: #fff; border: 1px solid #ddd; border-radius: 12px;
  box-shadow: 0 10px 24px rgba(0,0,0,.18);
  overflow: hidden;
}
.shortcut-modal header {
  display: flex; align-items: center; justify-content: space-between;
  padding: 10px 12px; border-bottom: 1px solid #eee; font-weight: 700;
}
.shortcut-modal .body { padding: 12px 14px; }

.kbd{
  display: inline-block; border: 1px solid #ccc; border-bottom-width: 2px;
  background: #f7f7f7; border-radius: 6px; padding: 2px 6px;
  font-family: ui-monospace, SFMono-Regular, Menlo, Consolas, monospace;
  font-size: 12px;
}
.shortcut-close { border: none; background: transparent; cursor: pointer; font-size: 18px; line-height: 1; }

/* パネル用バックドロップ（左側を暗くする） */
.completed-backdrop {
  position: fixed; inset: 0;
  background: rgba(0,0,0,.35); /* 濃さは好みで調整 */
  display: none;               /* デフォルトは非表示 */
  z-index: 35;                 /* パネル(40)の下、他より上 */
}
.completed-panel.open + .completed-backdrop { display: block; } /* .open時だけ表示 */
.completed-backdrop { cursor: pointer; }

/* 行動ボタン：左（完了・削除）と右（キャンセル・決定）を分ける */
.row-actions { display: flex; gap: 10px; align-items: center; padding: 12px 16px 16px; }
#btnComplete { margin-right: auto; }

/* ===== カテゴリバー ===== */
.row-cat {display: grid;gap: 0px;}
.cat-field {
  display: grid;
  grid-template-columns: 1fr 1fr auto; /* select | name | ▼ */
  gap: 8px;
}
#taskCategory, #newCatName, #newCatColor {height: 26px;}

.category-bar {
  display: flow;
  gap: 8px;
  border-bottom: 1px solid #ddd;
  background: #fff;
  padding: 10px 9px 5px;
}
.category-chip{
  position: relative; padding: 5px 24px 5px 9px; padding-right: 30px;
  border: 1px solid; cursor: pointer;
}
.category-chip .txt { display: inline-block; }
.category-chip .cat-note-btn{
  position: absolute; right: 6px; top: 50%; transform: translateY(-50%);
  font-size: 12px; line-height: 1; opacity: .85; cursor: pointer; user-select: none;
}
.category-chip .cat-note-btn:hover, .category-chip .cat-note-btn:focus { opacity: 1; outline: none; }
.category-chip[data-id="0"] .cat-note-btn{ display: none; } /* 0番は非表示 */
.category-chip .count { opacity: .9; font-weight: 700; }
.category-chip.active { opacity: 1; box-shadow: 5px 3px 10px #0000006e; }

/* ===== Calendar view ===== */
.calendar-view { padding: 10px 12px; }
.cal-head{ display:flex; align-items:center; gap:10px; margin-bottom:8px; }
.cal-title{ font-weight:700; font-size:16px; min-width:160px; text-align:center; }
.cal-legend{ margin-left:auto; display:flex; gap:8px; align-items:center; font-size:12px; color:#555; }
.leg-start::before   { content: "●"; margin-right: 4px; }
.leg-test::before    { content: "●"; margin-right: 4px; }
.leg-proof::before   { content: "●"; margin-right: 4px; }
.leg-delivery::before{ content: "●"; margin-right: 4px; }

/* 7列グリッド（日〜土） */
.cal-grid{
  display: grid;
  grid-template-columns: repeat(7, 1fr);
  gap: 6px;
}

/* 各日セル */
.cal-day{
  border: 1px solid #ddd; border-radius: 8px; min-height: 84px; padding: 4px;
  position: relative; background: #fff;
}
.cal-day .d{ font-size: 12px; color: #666; }
.cal-day.is-today{ outline: 2px solid #6ea0ff; outline-offset: -2px; }

/* タスクバー（1タスク=1本） */
.cal-bar{
  position: absolute; height: 18px; border-radius: 9px; box-shadow: 0 2px 8px rgba(0,0,0,.08);
  display:flex; align-items:center; gap:6px; padding: 0 10px; font-size: 12px;
  white-space: nowrap; overflow: hidden; text-overflow: ellipsis; cursor: default;
}
.cal-bar .mark{ width: 6px; height: 6px; border-radius: 50%; background: #111; opacity: .9; }
.cal-bar .m-start{ background: #111; }
.cal-bar .m-test{ background: #0072ff; }
.cal-bar .m-proof{ background: #8a2be2; }
.cal-bar .m-delivery{ background: #e55300; }

/* 溢れ表示 */
.cal-overflow{ margin-top: 8px; font-size: 13px; color: #555; }

/* ===== Schedules in modal ===== */
.sched legend{ font-weight: 700; margin-bottom: 6px; color: #ffffff; }
.sched-row{ display:flex; align-items:center; gap:8px; margin-top:6px; }
.sched-row label{ width:86px; font-size:13px; color: #ffffff; }
.sched-row input[type="date"]{ padding: 6px 8px; }
.sched-row label { display:inline-flex; align-items:center; gap:.35rem; }
.state-chk { vertical-align: middle; }
.fb-flag { margin-left:.5rem; user-select:none; font-size:12px; }
.fb-flag input { vertical-align:middle; }
.modal .row-actions { position: relative; z-index: 10; }

/* ===== Ball tabs ===== */
.ball {margin-top: 0;}
.ball { color: #fff; }

.ball-tabs{ display:flex; gap:6px; margin-bottom:8px; }
.ball-tabs .tab{
  border:1px solid #9993; background:#fff1; color:#fff; padding:6px 10px;
  border-radius:8px; cursor:pointer; transition: filter .15s;
}
.ball-tabs .tab.is-active{
  background:#fff3; border-color:#fff8; font-weight:700; outline:2px solid #fff5;
}
.ball-tabs .tab:hover{ filter: brightness(1.2); }
.ball-areas textarea{ width:100%; box-sizing: border-box; }

.ball-head {display:flex;align-items:center;gap: 0;flex-wrap:wrap;}
.ball-tabs { display:flex; gap:6px; }
.ball-due  { margin-left:auto; display:flex; align-items:center; gap:6px; }

.tab.is-active { font-weight:700; border-bottom:2px solid currentColor; }

/* Header 左側表記 */
.h-left{ font-size:20px; color: #fff; }

/* --- get_work --- */
@keyframes getWorkBlink { 0%,100%{opacity:1} 50%{opacity:.85} }
.card.get_work {
  /* animation: getWorkBlink 5s ease-in-out infinite; */
}

/* --- test_up --- */
@keyframes testUpBlink { 0%,100%{opacity:1} 50%{opacity:.45} }
.card.test_up {
  animation: testUpBlink 3.8s ease-in-out infinite;
}

/* --- ok_work --- */
@keyframes okWorkBlink { 0%,100%{opacity:1} 50%{opacity:.45} }
.card.ok_work {
  animation: okWorkBlink 3.8s ease-in-out infinite;
}

/* --- finish_work --- */
@keyframes finishWorkBlink { 0%,100%{opacity:1} 50%{opacity:.45} }
.card.finish_work {
  animation: finishWorkBlink 3.8s ease-in-out infinite;
}

/* --- ball_today --- */
@keyframes ballTodayBlink { 0%,100%{opacity:1} 50%{opacity:.45} }
.card.ball_today {
  /* animation: ballTodayBlink 3.8s ease-in-out infinite; */
}

/* --- get_work_over --- */
@keyframes getWorkOverBlink { 0%,100%{opacity:1} 50%{opacity:.30} }
.card.get_work_over {
  animation: getWorkOverBlink 1.2s ease-in-out infinite;
  /* 目立たせたいなら軽いアウトラインなど */
  /* outline: 2px solid rgba(229,57,53,.65); outline-offset: 2px; */
}

/* --- test_up_over --- */
@keyframes testUpOverBlink { 0%,100%{opacity:1} 50%{opacity:.30} }
.card.test_up_over {
  animation: testUpOverBlink 1.2s ease-in-out infinite;
  /* outline: 2px solid rgba(229,57,53,.65); outline-offset: 2px; */
}

/* --- ok_work_over --- */
@keyframes okWorkOverBlink { 0%,100%{opacity:1} 50%{opacity:.30} }
.card.ok_work_over {
  animation: okWorkOverBlink 1.2s ease-in-out infinite;
  /* outline: 2px solid rgba(229,57,53,.65); outline-offset: 2px; */
}

/* --- finish_work_over --- */
@keyframes finishWorkOverBlink { 0%,100%{opacity:1} 50%{opacity:.30} }
.card.finish_work_over {
  animation: finishWorkOverBlink 1.2s ease-in-out infinite;
  /* outline: 2px solid rgba(229,57,53,.65); outline-offset: 2px; */
}

/* --- ball_over --- */
@keyframes ballOverBlink { 0%,100%{opacity:1} 50%{opacity:.30} }
/* もともとの点滅は止める（必要なら丸ごと消してOK） */
.card.ball_over {
  /* animation: ballOverBlink 1.2s ease-in-out infinite; */
  /* 透明とかはいじらない。普通に見えるままでOK */
  position: absolute; /* 既に absolute だけど念のため維持 */
}

/* 右上の赤い丸バッジ */
.card.ball_over::after {
  content: "";
  position: absolute;
  top: -14px;
  right: -16px;
  width: 26px;
  height: 26px;
  background: #e53935;
  border-radius: 50%;
  box-shadow: 0 0 8px rgba(229, 57, 53, .8);
  animation: ballOverDotBlink 3s 
ease-in-out infinite;
}

/* ボール状態の丸：位置とサイズだけ共通化 */
.card.ball_over::after,
.card.ball_today::after,
.card.ball_tomorrow::after,
.card.ball_dayafter::after,
.card.ball_week::after,
.card.ball_month::after,
.card.ball_later::after {
  content: '';
  position: absolute;
  
  top: -7px;
  width: 20px;
  height: 20px;
  border-radius: 50%;
  box-shadow: 0px 2px 6px #00000080;
}

/* こっちのボール（data-ball-side="0"）→ 左上 */
.card[data-ball-side="0"].ball_over::after,
.card[data-ball-side="0"].ball_today::after,
.card[data-ball-side="0"].ball_tomorrow::after,
.card[data-ball-side="0"].ball_dayafter::after,
.card[data-ball-side="0"].ball_week::after,
.card[data-ball-side="0"].ball_month::after,
.card[data-ball-side="0"].ball_later::after {
  left: -9px;
  right: auto;
}

/* 向こうのボール（data-ball-side="1"）→ 右上 */
.card[data-ball-side="1"].ball_over::after,
.card[data-ball-side="1"].ball_today::after,
.card[data-ball-side="1"].ball_tomorrow::after,
.card[data-ball-side="1"].ball_dayafter::after,
.card[data-ball-side="1"].ball_week::after,
.card[data-ball-side="1"].ball_month::after,
.card[data-ball-side="1"].ball_later::after {
  right: -9px;
  left: auto;
}

.card[data-ball-side="2"].ball_over::after,
.card[data-ball-side="2"].ball_today::after,
.card[data-ball-side="2"].ball_tomorrow::after,
.card[data-ball-side="2"].ball_dayafter::after,
.card[data-ball-side="2"].ball_week::after,
.card[data-ball-side="2"].ball_month::after,
.card[data-ball-side="2"].ball_later::after {
 
  right: 50%;
}



/* 赤→白→赤 */
@keyframes ballOverDotBlink {
  0% {
    background: #e53935;              /* 赤 */
    box-shadow: 0 0 8px rgba(229,57,53,.8);
  }
  50% {
    background: #f0a9a6;                 /* 白 */
    box-shadow: 0 0 8px rgba(255,255,255,.9);
  }
  100% {
    background: #e53935;              /* 赤に戻る */
    box-shadow: 0 0 8px rgba(229,57,53,.8);
  }
}

/* 期限切れ：赤 */
.card.ball_over::after {
  background: #FF4D4D;
}

/* 今日：オレンジ */
.card.ball_today::after {
  background: #e69800;
}

/* 明日：黄土色っぽい濃いめオレンジ */
.card.ball_tomorrow::after {
  background: #c7c617;
}

/* 明後日：黄色 */
.card.ball_dayafter::after {
  background: #8ff565;
}

/* 1週間以内：緑 */
.card.ball_week::after {
  background: #0ad1d2;
}

/* 1ヶ月以内：青 */
.card.ball_month::after {
  background: #0084ee;
}

/* 1ヶ月より先：水色 */
.card.ball_later::after {
  background: #4DD0E1;
}




/* モーダル内の装飾はクリックを透過させる */
#tagModal::before,
#tagModal::after,
#tagModal *::before,
#tagModal *::after {
  pointer-events: none;
}

.modal .modal-head{
  display:flex;
  align-items:center;
  justify-content:space-between;
  gap:12px;
}
.modal .est-hours-wrap{
  display:flex;
  align-items:center;
  gap:6px;
  font-size:14px;
  opacity:.95;
}
.modal .est-hours-wrap input#estHours{
  width:80px;
  text-align:right;
}

.card .ball-note{
  margin-top: 6px;
  background: #00000052;
  padding: 4px;
}
.card .ball-note-head{
  font-size: 12px;
  opacity: .85;
  margin-bottom: 4px;
}
.card .ball-note-body{
  font-size: 13px;
  line-height: 1.5;
}

/* ── フィルタ帯 ─────────────────────────────── */
.filter-bar{
  display:flex;
  gap: 8px;
  padding: 3px 10px;12px;
  border-bottom:1px solid rgba(255,255,255,.08);
}
.btn.is-active{
    background: #a7792a;
}

/* ── 右端パネル ─────────────────────────────── */


.balllist-close{
  background:transparent; border:none; color:#fff; font-size:18px; cursor:pointer;
}
.balllist-list{ padding:10px; overflow:auto; }
.balllist-empty{ opacity:.7; padding:8px 4px; }

.balllist-item{
  border-radius:8px;
  padding:10px;
  margin-bottom: -1px;
}
.balllist-item .bl-title{font-weight:700;margin-bottom: 0;}
.balllist-item .bl-note{white-space: pre-wrap;opacity:.9;font-size:13px;line-height: 1;opacity: 0.6;}

/* ── ボール絞り込みで消す用（カテゴリのdimとは別軸） ── */
.card.ball-hide{ display:none !important; }


/* 右端リストのノートボタン配置 */
.balllist-item .bl-title {position: relative;padding-right: 28px;font-size: 13px;}
.balllist-item .bl-note-btn {
  position: absolute; right: 4px; top: 0;
  background: transparent; border: 0; cursor: pointer; font-size: 16px;
}
.card.ball-dim { opacity:.2; filter:saturate(.6);   pointer-events: none; z-index: 0;}

/* 右端の半透明矢印（デフォはこれだけ表示） */
.balllist-peek {
  position: fixed; right: 0; top: 40%;
  transform: translateY(-50%);
  width: 20px; height: 60px;
  display: flex; align-items: center; justify-content: center;
  background: rgba(0,0,0,.25); color: #fff; cursor: pointer; z-index: 1001;
  border-top-left-radius: 8px; border-bottom-left-radius: 8px;
}

.balllist-panel[aria-hidden="false"] { transform: translateX(0); }

.balllist-header {
  display: flex; align-items: center; justify-content: space-between;
  padding: 10px 12px; border-bottom: 1px solid rgba(255,255,255,.08);
}

.balllist-cols {
  display: flex; gap: 12px; padding: 12px; height: 100%;
}
.ballcol { flex: 1 1 0; min-width: 0; display: flex; flex-direction: column; }
.col-title { font-weight: 700; margin: 4px 0 8px; opacity: .9; }

.balllist-list {
  flex: 1 1 auto; min-height: 0; overflow: auto;
  display: grid; gap: 8px;
}


/* パネル本体（2列） */
.balllist-panel {
  position: fixed; top: 0; right: 0; height: 100vh; width: min(680px, 90vw);
  background: #1a1a1a; color: #fff; z-index: 1002;
  transform: translateX(100%); transition: transform .25s ease;
  display: flex; flex-direction: column;
  box-shadow: -8px 0 24px rgba(0,0,0,.35);
}
.balllist-panel[aria-hidden="false"] { transform: translateX(0); }

.bl-head {
  display: flex; align-items: center; justify-content: space-between;
  padding: 10px 12px; border-bottom: 1px solid rgba(255,255,255,.08);
  font-weight: 700;
}
.bl-close {
  background: transparent; border: none; color: #fff; font-size: 18px; cursor: pointer;
}

.bl-cols {
  display: flex; gap: 12px; padding: 12px; height: 100%;
}
.bl-col {flex: 1 1 0;min-width: 0;display: flex;flex-direction: column;}
.bl-col-title {font-weight: 700;margin: 0 0 11px;opacity: .9;font-size: 16px;border-bottom: solid 2px;padding-bottom: 8px;}

.bl-list {
  flex: 1 1 auto;
  min-height: 0;
  overflow: auto;
  display: grid;
  gap: 8px;
  padding-bottom: 8px;
}
.balllist-item {
  padding: 4px;
  border-radius: 0;
  border-bottom: solid 1px #ffffff3d;
  padding: 0;
}
.bl-title { position: relative; padding-right: 28px; font-weight: 700; }
.bl-note {margin-top: 4px;font-size: 13px;line-height: 1.5;white-space: pre-wrap;}
.balllist-empty { opacity: .6; padding: 8px; }

.bl-title .bl-note-btn {
  position: absolute; right: 4px; top: 0;
  background: transparent; border: 0; cursor: pointer; font-size: 16px; color: #fff;
}

/* 背景（パネル開時のみ表示） */
.balllist-backdrop {
  position: fixed; inset: 0; background: rgba(0,0,0,.35); z-index: 1000; display: none;
}
.balllist-backdrop[aria-hidden="false"] { display: block; }

/* スマホは縦積み */
@media (max-width: 640px) {
  .bl-cols { flex-direction: column; }
}

.quick-group_total{
  display: block;
}
/* add.css など */
.quick-date-group, .quick-time-group{
 gap:6px;
 margin-left:8px;
 display: block;
 margin-bottom: 7px;
}
.quick-date-group .btn, .quick-time-group .btn{
  padding:2px 6px; font-size:12px; line-height:1.6;
}

.h-right {
  display: flex;
  align-items: center;
  gap: 8px;
}

/* 検索ボックス */
.search-wrap {
  position: relative;
  display: flex;
  align-items: center;
}

#taskSearch {
  padding: 4px 22px 4px 8px; /* 右側はクリアボタン分をちょっと広めに */
  border-radius: 4px;
  border: 1px solid #ccc;
  font-size: 14px;
}

.search-clear {
  position: absolute;
  right: 4px;
  background: transparent;
  border: none;
  cursor: pointer;
  font-size: 14px;
  line-height: 1;
  opacity: .6;
}

.search-clear:hover {
  opacity: 1;
}

